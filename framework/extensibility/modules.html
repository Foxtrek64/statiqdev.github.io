<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="/assets/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/styles.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&amp;family=Roboto+Slab:wght@400;700&amp;family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet" data-no-mirror="">
        <link rel="stylesheet" href="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">

        <script src="/mirror/code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="/mirror/stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/a1cad7ed9a.js" crossorigin="anonymous" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror=""></script>

        <title>Statiq - Modules</title>
    </head>
    <body class="d-flex flex-column">
        <div class="flex-grow-1 d-flex flex-column">
            <div class="bg-red">
                <div class="container">
                    <div class="text-center text-white p-4">This is an early build of the site and information may not be accurate or complete.</div>
                </div>
            </div>
            <nav id="topnav" class="navbar navbar-expand-lg navbar-light">
                <div class="container py-3">
                    <a class="navbar-brand" href="/"><img id="logo" src="/assets/statiq.svg" alt="Statiq Framework"></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarText">
                        <ul class="navbar-nav mr-auto">
                            <li id="nav-web" class="nav-item">
                                <a class="nav-link text-blue font-weight-light font-size-lg" href="/web">Web</a>
                            </li>
                            <li class="nav-item mx-3 border-right d-none d-lg-block"></li>
                            <li id="nav-docs" class="nav-item">
                                <a class="nav-link text-orange font-weight-light font-size-lg" href="/docs">Docs</a>
                            </li>
                            <li class="nav-item mx-3 border-right d-none d-lg-block"></li>
                            <li id="nav-framework" class="nav-item">
                                <a class="nav-link text-purple font-weight-light font-size-lg" href="/framework">Framework</a>
                            </li>
                        </ul>
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/blog">Blog</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://github.com/statiqdev"><i class="fab fa-github"></i> GitHub</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="flex-grow-1 d-flex flex-column section-framework">
                    <div id="titlebar" class="py-4">
                        <div class="container">
                            <div class="row">
                                <div class="offset-md-3 offset-lg-2 px-3 px-md-0">
                                    <div class="section text-uppercase">framework</div>
                                    <div class="text-white m-0 title">Modules</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="undertitle">
                        <div class="container bg-white">                            
                            <div class="row">
                                    <div class="col-md-3 col-lg-2 bg-section">
                                    </div>
                                    <div class="col-md-9 col-lg-8">
                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-section">
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="flex-grow-1 d-flex flex-column">
                        <div class="container flex-grow-1 d-flex flex-column bg-white">
                            <div class="row flex-grow-1 align-items-stretch">
                                        <div class="sidebar col-md-3 col-lg-2 pt-2 bg-body">
                                                <div class="sidebar-nav-item">
                                                    <a href="/framework">About Statiq Framework</a>
                                                </div>
                                                    <div class="sidebar-nav-item has-children">
                                                        <a href="/framework/extensibility">Extensibility</a>
                                                    </div>
                                                        <div class="sidebar-nav-children active">
                                                                <div class="sidebar-nav-child active">
                                                                    <a href="/framework/extensibility/modules">Modules</a>
                                                                </div>
                                                        </div>
                                                    <div class="sidebar-nav-item has-children">
                                                        <a href="/framework/concepts">Concepts</a>
                                                    </div>
                                                        <div class="sidebar-nav-children">
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/events">Events</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/documents">Documents</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/metadata">Metadata</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/modules">Modules</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/pipelines">Pipelines</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/execution">Execution</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/shortcodes">Shortcodes</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/concepts/files">Files and Paths</a>
                                                                </div>
                                                        </div>
                                                    <div class="sidebar-nav-item has-children">
                                                        <a href="/framework/usage">Usage</a>
                                                    </div>
                                                        <div class="sidebar-nav-children">
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/usage/bootstrapper">Bootstrapper</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/usage/configuration">Configuration</a>
                                                                </div>
                                                                <div class="sidebar-nav-child">
                                                                    <a href="/framework/usage/type-conversion">Type Conversion</a>
                                                                </div>
                                                        </div>
                                        </div>
                                        <div class="col-md-9 col-lg-8 pt-4 pt-md-0 pb-4 px-4">
                                            <p><a href="/framework/concepts/modules">Modules</a> are the basic building blocks of Statiq functionality. If the out-of-the-box modules don’t satisfy your use case, it’s easy to customize generation by creating new modules.</p>
<p>Modules implement the <code>IModule</code> interface which defines a single <code>Task&lt;IEnumerable&lt;IDocument&gt;&gt; ExecuteAsync(IExecutionContext context)</code> method. The <a href="/framework/concepts/execution/execution-context">execution context</a> passed to the <code>ExecuteAsync</code> method contains the input documents to the module as well as providing access to output documents from other pipelines and various engine and utility functionality.</p>
<p>While you can implement <code>IModule</code> easily enough yourself, in practice most modules are derived from a number of different base module classes:</p>
<ul>
<li><code>Module</code> is a common module base class that's appropriate for most modules.
<ul>
<li><code>ParallelModule</code> can be used when documents should be processed in parallel.</li>
<li><code>SyncModule</code> can be used when the module execution should be synchronous (I.e. not <code>async</code>).</li>
<li><code>ParallelSyncModule</code> can be used when documents should be processed in parallel but the module execution should be synchronous (I.e. not <code>async</code>).</li>
</ul>
</li>
<li><code>ParentModule</code> can be used to execute child modules.
<ul>
<li><code>SyncParentModule</code> can be used when the module execution should be synchronous (I.e. not <code>async</code>).</li>
<li><code>ForEachDocument</code> can be used to execute child modules against each input document one at a time.</li>
<li><code>ForAllDocuments</code> can be used to execute child modules against all documents and is very useful for grouping a sequence of child modules into a single parent module.</li>
</ul>
</li>
<li><code>ChildDocumentsModule</code> can be used to execute child modules and then combine or manipulate input documents based on the output documents of the child modules.
<ul>
<li><code>SyncChildDocumentsModule</code> can be used when the module execution should be synchronous (I.e. not <code>async</code>).</li>
</ul>
</li>
<li><code>ConfigModule&lt;TValue&gt;</code> and <code>MultiConfigModule</code> can be used to manage <code>Config&lt;TValue&gt;</code> delegates for configuring the module (you can also manage configuration delegates yourself, these modules just make it a little easier).
<ul>
<li><code>ParallelConfigModule&lt;TValue&gt;</code> and <code>ParallelMultiConfigModule</code> can be used when documents should be processed in parallel.</li>
<li><code>SyncConfigModule&lt;TValue&gt;</code> and <code>SyncMultiConfigModule</code> can be used when the module execution should be synchronous (I.e. not <code>async</code>).</li>
<li><code>ParallelSyncConfigModule&lt;TValue&gt;</code> and <code>ParallelSyncMultiConfigModule</code> can be used when documents should be processed in parallel but the module execution should be synchronous (I.e. not <code>async</code>).</li>
</ul>
</li>
<li><code>ReadDataModule</code> can be used to convert data from arbitrary data sources into output documents.</li>
</ul>
<p>When using the base module classes you should never call <code>IModule.ExecuteAsync(...)</code> directly. Instead, most of the module base classes above have both an <code>ExecuteContext</code> virtual method and/or an <code>ExecuteInput</code> virtual method.</p>
<ul>
<li>Overload the <code>ExecuteContext</code> method to have your code called once for all the input documents (available via <code>IExecutionContext.Inputs</code>). This is useful for modules that need to create new documents from scratch or that need to aggregate or operate on the input documents as a set.</li>
<li>Overload the <code>ExecuteInput</code> method to have you code called once per document. This is useful when the module transforms or manipulates documents that are unrelated to each other.</li>
</ul>
<p>Here are some other guidelines and tips to follow when writing a module:</p>
<ul>
<li>Consider using the built-in <code>ExecuteConfig</code> module instead of writing your own.
<ul>
<li>You may not even need a new module. The <code>ExecuteConfig</code> module lets you specify a delegate that can return documents, content, and other types of data which will be converted to output documents as appropriate.</li>
</ul>
</li>
<li>Use <code>Config&lt;T&gt;</code>.
<ul>
<li>If your module needs to accept user-configurable values, use <code>Config&lt;T&gt;</code>.</li>
<li>Consider using one of the base module classes that deals with <code>Config&lt;T&gt;</code> like <code>ConfigModule</code> or <code>MultiConfigModule</code>.</li>
</ul>
</li>
<li>Avoid document-to-document references (especially to/from children):
<ul>
<li>Try to avoid creating documents that reference other documents, especially in the top-level output documents (parent documents that reference children may be okay in some cases). If a document references another document and a following module clones the referenced document, the reference will still point to the old document and not the new clone.</li>
</ul>
</li>
<li>Preserve input ordering:
<ul>
<li>Many modules output documents in a specific order and following modules should preserve that order whenever possible. The base module classes do this by default, but any explicit parallel operations should preserve ordering as well (I.e., by calling <code>.AsParallel().AsOrdered()</code>).</li>
</ul>
</li>
<li>Only reference <code>Statiq.Common</code>:
<ul>
<li>If a module is in a separate assembly from your application you shouldn’t need a reference to <code>Statiq.Core</code>, and if you find that you do please open an issue so the appropriate functionality can be moved to <code>Statiq.Common</code>.</li>
</ul>
</li>
<li>Name modules using a VerbNoun convention when possible.</li>
</ul>

                                        </div>
                                <div class="col-lg-2 d-none d-lg-block bg-body pl-3 pt-3">
                                        <p class="small font-weight-bold"><a href="https:/github.com/statiqdev/statiq.dev/edit/master/input/framework/extensibility/modules.md"><i class="fad fa-pencil"></i> Edit This Page</a></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
        <div id="footer" class="p-3 text-white font-size-sm">
            <div class="container">
                <div>© 2020 Statiq/Dave Glick</div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
            });
        </script>
    
</body></html>